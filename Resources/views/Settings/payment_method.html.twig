{% extends 'WarbleMediaPhoenixBundle:Settings:layout.html.twig' %}

{% block main_content %}
    {{ form_start(form, {attr: {id: 'stripe_form'}}) }}
        {% include "WarbleMediaPhoenixBundle:Settings/payment_method:update.html.twig" %}
    {{ form_end(form) }}
{% endblock %}

{% block scripts %}
    {{ parent() }}
    <script>
        window.Phoenix = window.Phoenix || {};
        window.Phoenix.stripeKey = '{{ phoenix.stripeKey }}';
        {% if form.stripeToken is defined %}
        window.Phoenix.tokenFieldId = '{{ form.stripeToken.vars.id }}';
        {% endif %}
    </script>
    <script src="https://js.stripe.com/v2/"></script>
    <script src="/bundles/warblemediaphoenix/js/stripe_form.js"></script>
{% endblock %}

